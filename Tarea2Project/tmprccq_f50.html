<body bgcolor="#f0f0f8">
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#6622aa">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>ProgrammingError</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial">Python 3.8.5: C:\Users\marce\AppData\Local\Programs\Python\Python38\python.exe<br>Wed Nov  4 07:55:04 2020</font></td></tr></table>
    
<p>A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.</p>
<table width="100%" cellspacing=0 cellpadding=0 border=0>
<tr><td bgcolor="#d8bbff"><big>&nbsp;</big><a href="file://C:\xampp\htdocs\Tarea2Project\response.py">C:\xampp\htdocs\Tarea2Project\response.py</a> in <strong>&lt;module&gt;</strong></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;20</small>&nbsp;<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;21</small>&nbsp;date&nbsp;=&nbsp;datetime.datetime.now()<br>
</tt></font></td></tr>
<tr><td bgcolor="#ffccee"><tt>=&gt;<small>&nbsp;&nbsp;&nbsp;22</small>&nbsp;comunaID&nbsp;=&nbsp;t2db.get_comunaId(form['comuna'].value)<br>
</tt></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;23</small>&nbsp;mascotaID&nbsp;=&nbsp;t2db.get_mascotaId(form['tipo-mascota'].value)<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;24</small>&nbsp;esterilizado&nbsp;=&nbsp;t2db.respToInt(form['esterilizado-mascota'].value)<br>
</tt></font></td></tr>
<tr><td><small><font color="#909090">comunaID <em>undefined</em>, <strong>t2db</strong>&nbsp;= &lt;dbManage.tarea2db object&gt;, t2db.<strong>get_comunaId</strong>&nbsp;= &lt;bound method tarea2db.get_comunaId of &lt;dbManage.tarea2db object&gt;&gt;, <strong>form</strong>&nbsp;= FieldStorage(None, None, [FieldStorage('region',...xecOP\xa0EQ\xae\x00\x00\x00\x00IEND\xaeB`\x82')]), ].<strong>value</strong>&nbsp;= [FieldStorage('region', None, 'Antofagasta'), FieldStorage('comuna', None, 'Calama'), FieldStorage('calle', None, 'Chala'), FieldStorage('numero', None, '12'), FieldStorage('sector', None, 'Alto'), FieldStorage('nombre', None, 'Almendra'), FieldStorage('email', None, 'xelogun@gmail.com'), FieldStorage('celular', None, '56987654321'), FieldStorage('tipo-mascota', None, 'otro'), FieldStorage('otro', None, 'Huron'), FieldStorage('edad-mascota', None, '10'), FieldStorage('color-mascota', None, 'necro'), FieldStorage('raza-mascota', None, 'tarantula'), FieldStorage('esterilizado-mascota', None, 'si'), FieldStorage('vacunas-mascota', None, 'si'), FieldStorage('foto-mascota', 'Anotación 2020-07-...a\xecOP\xa0EQ\xae\x00\x00\x00\x00IEND\xaeB`\x82')]</font></small></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=0 border=0>
<tr><td bgcolor="#d8bbff"><big>&nbsp;</big><a href="file://C:\xampp\htdocs\Tarea2Project\dbManage.py">C:\xampp\htdocs\Tarea2Project\dbManage.py</a> in <strong>get_comunaId</strong>(self=&lt;dbManage.tarea2db object&gt;, comuna='Calama')</td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;55</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_comunaId(self,&nbsp;comuna):<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;56</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;f'SELECT&nbsp;id&nbsp;FROM&nbsp;comuna&nbsp;WHERE&nbsp;nombre&nbsp;LIKE&nbsp;%{comuna}%;'<br>
</tt></font></td></tr>
<tr><td bgcolor="#ffccee"><tt>=&gt;<small>&nbsp;&nbsp;&nbsp;57</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.cursor.execute(sql)<br>
</tt></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;58</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;self.cursor.fetchall()<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;&nbsp;59</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;str(data[0][0])<br>
</tt></font></td></tr>
<tr><td><small><font color="#909090"><strong>self</strong>&nbsp;= &lt;dbManage.tarea2db object&gt;, self.<strong>cursor</strong>&nbsp;= &lt;mysql.connector.cursor.MySQLCursor object&gt;, self.cursor.<strong>execute</strong>&nbsp;= &lt;bound method MySQLCursor.execute of &lt;mysql.connector.cursor.MySQLCursor object&gt;&gt;, <strong>sql</strong>&nbsp;= 'SELECT id FROM comuna WHERE nombre LIKE %Calama%;'</font></small></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=0 border=0>
<tr><td bgcolor="#d8bbff"><big>&nbsp;</big><a href="file://C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\cursor.py">C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\cursor.py</a> in <strong>execute</strong>(self=&lt;mysql.connector.cursor.MySQLCursor object&gt;, operation='SELECT id FROM comuna WHERE nombre LIKE %Calama%;', params=None, multi=False)</td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;567</small>&nbsp;<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;568</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br>
</tt></font></td></tr>
<tr><td bgcolor="#ffccee"><tt>=&gt;<small>&nbsp;&nbsp;569</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._handle_result(self._connection.cmd_query(stmt))<br>
</tt></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;570</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;errors.InterfaceError:<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;571</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self._connection._have_next_result:&nbsp;&nbsp;#&nbsp;pylint:&nbsp;disable=W0212<br>
</tt></font></td></tr>
<tr><td><small><font color="#909090"><strong>self</strong>&nbsp;= &lt;mysql.connector.cursor.MySQLCursor object&gt;, self.<strong>_handle_result</strong>&nbsp;= &lt;bound method MySQLCursor._handle_result of &lt;mysql.connector.cursor.MySQLCursor object&gt;&gt;, self.<strong>_connection</strong>&nbsp;= &lt;weakproxy at 0x00000247232A7EF0 to MySQLConnection&gt;, self._connection.<strong>cmd_query</strong>&nbsp;= &lt;bound method MySQLConnection.cmd_query of &lt;mysql.connector.connection.MySQLConnection object&gt;&gt;, <strong>stmt</strong>&nbsp;= b'SELECT id FROM comuna WHERE nombre LIKE %Calama%;'</font></small></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=0 border=0>
<tr><td bgcolor="#d8bbff"><big>&nbsp;</big><a href="file://C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py">C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py</a> in <strong>cmd_query</strong>(self=&lt;mysql.connector.connection.MySQLConnection object&gt;, query=b'SELECT id FROM comuna WHERE nombre LIKE %Calama%;', raw=False, buffered=False, raw_as_string=False)</td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;597</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;isinstance(query,&nbsp;bytes):<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;598</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;query.encode('utf-8')<br>
</tt></font></td></tr>
<tr><td bgcolor="#ffccee"><tt>=&gt;<small>&nbsp;&nbsp;599</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;self._handle_result(self._send_cmd(ServerCmd.QUERY,&nbsp;query))<br>
</tt></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;600</small>&nbsp;<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;601</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self._have_next_result:<br>
</tt></font></td></tr>
<tr><td><small><font color="#909090">result <em>undefined</em>, <strong>self</strong>&nbsp;= &lt;mysql.connector.connection.MySQLConnection object&gt;, self.<strong>_handle_result</strong>&nbsp;= &lt;bound method MySQLConnection._handle_result of &lt;mysql.connector.connection.MySQLConnection object&gt;&gt;, self.<strong>_send_cmd</strong>&nbsp;= &lt;bound method MySQLConnection._send_cmd of &lt;mysql.connector.connection.MySQLConnection object&gt;&gt;, <em>global</em> <strong>ServerCmd</strong>&nbsp;= &lt;class 'mysql.connector.constants.ServerCmd'&gt;, ServerCmd.<strong>QUERY</strong>&nbsp;= 3, <strong>query</strong>&nbsp;= b'SELECT id FROM comuna WHERE nombre LIKE %Calama%;'</font></small></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=0 border=0>
<tr><td bgcolor="#d8bbff"><big>&nbsp;</big><a href="file://C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py">C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py</a> in <strong>_handle_result</strong>(self=&lt;mysql.connector.connection.MySQLConnection object&gt;, packet=bytearray(b"\xa5\x00\x00\x01\xff(\x04#42000You h...right syntax to use near \'%Calama%\' at line 1"))</td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;485</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self._handle_eof(packet)<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;486</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;packet[4]&nbsp;==&nbsp;255:<br>
</tt></font></td></tr>
<tr><td bgcolor="#ffccee"><tt>=&gt;<small>&nbsp;&nbsp;487</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;errors.get_exception(packet)<br>
</tt></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;488</small>&nbsp;<br>
</tt></font></td></tr>
<tr><td><font color="#909090"><tt>&nbsp;&nbsp;<small>&nbsp;&nbsp;489</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;We&nbsp;have&nbsp;a&nbsp;text&nbsp;result&nbsp;set<br>
</tt></font></td></tr>
<tr><td><small><font color="#909090"><em>global</em> <strong>errors</strong>&nbsp;= &lt;module 'mysql.connector.errors' from 'C:\\Users...lib\\site-packages\\mysql\\connector\\errors.py'&gt;, errors.<strong>get_exception</strong>&nbsp;= &lt;function get_exception&gt;, <strong>packet</strong>&nbsp;= bytearray(b"\xa5\x00\x00\x01\xff(\x04#42000You h...right syntax to use near \'%Calama%\' at line 1")</font></small></td></tr></table><p><strong>ProgrammingError</strong>: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '%Calama%' at line 1
<br><tt><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>&nbsp;</tt>args&nbsp;=
(1064, "1064 (42000): You have an error in your SQL synt...the right syntax to use near '%Calama%' at line 1", '42000')
<br><tt><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>&nbsp;</tt>errno&nbsp;=
1064
<br><tt><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>&nbsp;</tt>msg&nbsp;=
"You have an error in your SQL syntax; check the ...the right syntax to use near '%Calama%' at line 1"
<br><tt><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>&nbsp;</tt>sqlstate&nbsp;=
'42000'
<br><tt><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small>&nbsp;</tt>with_traceback&nbsp;=
&lt;built-in method with_traceback of ProgrammingError object&gt;


<!-- The above is a description of an error in a Python program, formatted
     for a Web browser because the 'cgitb' module was enabled.  In case you
     are not reading this in a Web browser, here is the original traceback:

Traceback (most recent call last):
  File "C:/xampp/htdocs/Tarea2Project/response.py", line 22, in &lt;module&gt;
    comunaID = t2db.get_comunaId(form['comuna'].value)
  File "C:\xampp\htdocs\Tarea2Project\dbManage.py", line 57, in get_comunaId
    self.cursor.execute(sql)
  File "C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\cursor.py", line 569, in execute
    self._handle_result(self._connection.cmd_query(stmt))
  File "C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py", line 599, in cmd_query
    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))
  File "C:\Users\marce\AppData\Local\Programs\Python\Python38\lib\site-packages\mysql\connector\connection.py", line 487, in _handle_result
    raise errors.get_exception(packet)
mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '%Calama%' at line 1

-->
